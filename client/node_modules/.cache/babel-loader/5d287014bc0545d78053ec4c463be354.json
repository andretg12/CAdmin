{"ast":null,"code":"import _slicedToArray from \"/Users/andretorrealbagarcia/Documents/git repos/adminsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andretorrealbagarcia/Documents/git repos/adminsite/client/src/Components/ProductEdit/index.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport default function ProductEdit(props) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        product = _useState2[0],\n        setProduct = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        productName = _useState4[0],\n        setProductName = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        description = _useState6[0],\n        setDesc = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        url = _useState8[0],\n        setUrl = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        category = _useState10[0],\n        setCategory = _useState10[1];\n\n  const _useState11 = useState(0),\n        _useState12 = _slicedToArray(_useState11, 2),\n        stock = _useState12[0],\n        setStock = _useState12[1];\n\n  const fetchData = async () => {\n    let result = await axios.get(\"/api/Products/\" + props.match.params.id);\n    let allProducts = await axios.get(\"api/Products\");\n    result.data.json();\n    setProduct(result.data);\n    setProductName(product.name);\n    setCategory(product.category);\n    setDesc(product.description);\n    setUrl(product.img);\n    setStock(product.stock);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [product]);\n\n  const onChangeDescription = e => {\n    setDesc(e.target.value);\n  };\n\n  const onChangeProductName = e => {\n    setProductName(e.target.value);\n  };\n\n  const onChangeCategory = e => {\n    setCategory(e.target.value);\n  };\n\n  const onChangeUrl = e => {\n    setUrl(e.target.value);\n  };\n\n  const onChangeStock = e => {\n    setStock(parseInt(e.target.value));\n  };\n\n  oninput = e => {\n    e.preventDefault();\n    const product = {\n      name: productName,\n      img: url,\n      category: category,\n      stock: stock,\n      description: description\n    };\n    console.log(product);\n    axios.post(\"/api/Products/\" + props.match.params.id, product).then(res => console.log(res.data));\n    window.location = \"/\";\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Edit Product\"), React.createElement(\"p\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, product.id), React.createElement(\"form\", {\n    oninput: oninput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"select\", {\n    ref: \"userInput\",\n    required: true,\n    className: \"form-control\",\n    value: productName,\n    onChange: onChangeProductName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, productName.map((product, i) => {\n    return React.createElement(\"option\", {\n      key: i,\n      value: productName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, productName);\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Description: \"), React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    className: \"form-control\",\n    value: description,\n    onChange: onChangeDescription,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Category: \"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    value: category,\n    onChange: onChangeCategory,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Stock \"), React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    className: \"form-control\",\n    value: stock,\n    onChange: onChangeStock,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Image URL \"), React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    className: \"form-control\",\n    value: url,\n    onChange: onChangeUrl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"SAVE\",\n    className: \"btn btn-secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/Users/andretorrealbagarcia/Documents/git repos/adminsite/client/src/Components/ProductEdit/index.jsx"],"names":["React","useState","useEffect","axios","ProductEdit","props","product","setProduct","productName","setProductName","description","setDesc","url","setUrl","category","setCategory","stock","setStock","fetchData","result","get","match","params","id","allProducts","data","json","name","img","onChangeDescription","e","target","value","onChangeProductName","onChangeCategory","onChangeUrl","onChangeStock","parseInt","oninput","preventDefault","console","log","post","then","res","window","location","map","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function ProductEdit(props) {\n\tconst [product, setProduct] = useState([]);\n\tconst [productName, setProductName] = useState(\"\");\n\tconst [description, setDesc] = useState(\"\");\n\tconst [url, setUrl] = useState(\"\");\n\tconst [category, setCategory] = useState(\"\");\n\tconst [stock, setStock] = useState(0);\n\n\tconst fetchData = async () => {\n\t\tlet result = await axios.get(\"/api/Products/\" + props.match.params.id);\n\t\tlet allProducts = await axios.get(\"api/Products\");\n\t\tresult.data.json();\n\t\tsetProduct(result.data);\n\t\tsetProductName(product.name);\n\t\tsetCategory(product.category);\n\t\tsetDesc(product.description);\n\t\tsetUrl(product.img);\n\t\tsetStock(product.stock);\n\t};\n\n\tuseEffect(() => {\n\t\tfetchData();\n\t}, [product]);\n\n\tconst onChangeDescription = e => {\n\t\tsetDesc(e.target.value);\n\t};\n\tconst onChangeProductName = e => {\n\t\tsetProductName(e.target.value);\n\t};\n\tconst onChangeCategory = e => {\n\t\tsetCategory(e.target.value);\n\t};\n\tconst onChangeUrl = e => {\n\t\tsetUrl(e.target.value);\n\t};\n\tconst onChangeStock = e => {\n\t\tsetStock(parseInt(e.target.value));\n\t};\n\n\toninput = e => {\n\t\te.preventDefault();\n\n\t\tconst product = {\n\t\t\tname: productName,\n\t\t\timg: url,\n\t\t\tcategory: category,\n\t\t\tstock: stock,\n\t\t\tdescription: description\n\t\t};\n\n\t\tconsole.log(product);\n\n\t\taxios\n\t\t\t.post(\"/api/Products/\" + props.match.params.id, product)\n\t\t\t.then(res => console.log(res.data));\n\n\t\twindow.location = \"/\";\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h1 className=\"text-center\">Edit Product</h1>\n\t\t\t<p className=\"text-center\">{product.id}</p>\n\t\t\t<form oninput={oninput}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tref=\"userInput\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tvalue={productName}\n\t\t\t\t\t\tonChange={onChangeProductName}\n\t\t\t\t\t>\n\t\t\t\t\t\t{productName.map((product, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<option key={i} value={productName}>\n\t\t\t\t\t\t\t\t\t{productName}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Description: </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\tonChange={onChangeDescription}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Category: </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tvalue={category}\n\t\t\t\t\t\tonChange={onChangeCategory}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Stock </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tvalue={stock}\n\t\t\t\t\t\tonChange={onChangeStock}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Image URL </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tvalue={url}\n\t\t\t\t\t\tonChange={onChangeUrl}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"SAVE\"\n\t\t\t\t\t\tclassName=\"btn btn-secondary\"\n\t\t\t\t\t></input>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}